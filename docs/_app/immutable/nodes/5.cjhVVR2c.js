import{f as p,a as r}from"../chunks/D93NnB53.js";import"../chunks/CU6yGzzP.js";import{a4 as o,a8 as v,a3 as z,e as y,a9 as g,aa as a,a6 as l,a7 as c}from"../chunks/CZG1GDN9.js";import{h as f,s as n}from"../chunks/BK6o-9HS.js";import{b as i}from"../chunks/nPpKynpz.js";const w=!0,x=Object.freeze(Object.defineProperty({__proto__:null,prerender:w},Symbol.toStringTag,{value:"Module"}));var b=p('<meta name="description" content="Deep dive into span parsing, duration calculation, hierarchical tree building, and error propagation path rendering in the Sentry Event Decoder."/> <meta property="og:title" content="How the Trace Visualizer Works Under the Hood"/> <meta property="og:description" content="Understand how we turn raw Sentry JSON into an interactive performance waterfall with color coding and error tracing."/> <meta property="og:url"/> <meta property="og:type" content="article"/> <meta name="twitter:card" content="summary_large_image"/>',1),_=p('<div class="container fade-in post-layout svelte-1apmzc4"><div class="breadcrumbs svelte-1apmzc4"><a class="svelte-1apmzc4">Blog</a> <span>/</span> <p class="svelte-1apmzc4">How the Trace Visualizer Works</p></div> <article class="prose svelte-1apmzc4"><h1 class="svelte-1apmzc4">How the Trace Visualizer Works Under the Hood</h1> <p class="post-meta svelte-1apmzc4">Published: November 17, 2025</p> <p class="svelte-1apmzc4">The magic of Sentry Event Decoder isn’t just the speed — it’s how accurately and beautifully it reconstructs the exact execution flow from raw Sentry trace data.</p> <h2 class="svelte-1apmzc4">From JSON to Tree: The Parsing Engine</h2> <p class="svelte-1apmzc4">We take the <code>contexts.trace</code> object and the <code>spans</code> array, then:</p> <ul class="svelte-1apmzc4"><li class="svelte-1apmzc4">Build a node map using span_id as key</li> <li class="svelte-1apmzc4">Create a root node from the trace context</li> <li class="svelte-1apmzc4">Link children via <code>parent_span_id</code></li> <li class="svelte-1apmzc4">Calculate precise duration in milliseconds using <code>timestamp - start_timestamp</code></li></ul> <h2 class="svelte-1apmzc4">Color Logic: Red, Yellow, Green</h2> <p class="svelte-1apmzc4">Every span is colored based on performance and status:</p> <ul class="svelte-1apmzc4"><li class="svelte-1apmzc4">Any span with <code>status !== "ok"</code> → Red background + red border</li> <li class="svelte-1apmzc4">Duration greater than 1000ms → Red</li> <li class="svelte-1apmzc4">Duration 501–1000ms → Yellow</li> <li class="svelte-1apmzc4">Duration less than or equal to 500ms → Green</li></ul> <h2 class="svelte-1apmzc4">Error Propagation Paths</h2> <p class="svelte-1apmzc4">We traverse the tree and collect every path from root to a failed span. These are rendered as bold dashed red lines — instantly showing you where the error originated and how it flowed.</p> <h2 class="svelte-1apmzc4">Powered by vis-network</h2> <p class="svelte-1apmzc4">The interactive graph uses <strong>vis-network</strong> with a hierarchical top-down layout. You can zoom, drag, and collapse nodes — just like a real flame graph, but better.</p> <h2 class="svelte-1apmzc4">Why This Matters</h2> <p class="svelte-1apmzc4">In a real incident, you don’t have time to mentally stitch together 47 spans. You need to see: “Ah, the database query after the cache miss took 2.8 seconds and failed.” That’s what this tool gives you — instantly.</p> <h2 class="svelte-1apmzc4">FAQ</h2> <details class="svelte-1apmzc4"><summary class="svelte-1apmzc4">Why not just use Sentry’s trace view?</summary> <p class="svelte-1apmzc4">Sentry is slow to load during incidents. This tool loads in less than 1 second, works offline, and focuses only on what matters.</p></details> <details class="svelte-1apmzc4"><summary class="svelte-1apmzc4">Can I trust the duration math?</summary> <p class="svelte-1apmzc4">Yes. We use exact timestamp differences multiplied by 1000 and rounded — identical to Sentry’s own calculations.</p></details> <p class="italic-note svelte-1apmzc4">The trace visualizer isn’t just pretty — it’s engineered for speed and clarity when seconds count.</p></article></div>');function D(d){var e=_();f("1apmzc4",h=>{var s=b(),u=v(z(s),6);a(4),o(()=>n(u,"content",`${i??""}/blog/posts/post2`)),y(()=>{g.title="How the Trace Visualizer Works Under the Hood | Sentry Event Decoder Blog"}),r(h,s)});var t=l(e),m=l(t);a(4),c(t),a(2),c(e),o(()=>n(m,"href",`${i??""}/blog`)),r(d,e)}export{D as component,x as universal};
